# 구독 플랜별 메뉴 접근 권한 정의

## 무료 플랜 (FREE)
**요약**: 최소한의 판매 기록만 가능한 체험용 플랜

### 활성 메뉴
- **대시보드**: 당일 판매 현황만 표시 (제한됨)
- **판매 (POS)**: 기본 결제 및 현금/카드 처리 기능
- **판매 내역**: 월 50건까지만 저장 및 조회 (제한됨)
- **재고 관리**: 최대 50개 품목까지만 등록 및 수량 수정 (제한됨)
- **설정**: 기본 설정만 변경 가능 (제한됨)

### 비활성 메뉴 (업그레이드 필요)
- **예약 관리** → STARTER 이상
- **고객 관리** → STARTER 이상
- **세금계산서** → PRO 이상
- **입고 관리** → PRO 이상
- **재무·결산** → STARTER 이상
- **근무표** → ENTERPRISE만

### 한도
- 지점: 1개
- 직원: 3명
- 월 매출: 50건
- 재고 품목: 50개
- 데이터 보관: 30일

---

## 스타터 플랜 (STARTER)
**요약**: 예약과 고객 관리를 시작하는 소규모 매장용

### 활성 메뉴
- **대시보드**: 기본 매출 통계 및 예약 현황 포함
- **판매 (POS)**: 영수증 출력 및 단순 취소 기능
- **예약 관리**: 일별/주별 예약 리스트 조회 및 등록
- **판매 내역**: 월 300건까지 저장, CSV 내보내기 가능 (제한됨)
- **고객 관리**: 전화번호 기반 고객 정보 저장 (차량 정보 제외) (제한됨)
- **재고 관리**: 최대 200개 품목 관리 (제한됨)
- **재무·결산**: 간소화된 손익 리포트 (제한됨)
- **설정**: 기본 설정 변경 가능 (API/백업 제외) (제한됨)

### 비활성 메뉴 (업그레이드 필요)
- **세금계산서** → PRO 이상
- **입고 관리** → PRO 이상
- **근무표** → ENTERPRISE만

### 제한 사항
- 고급 재고 기능 (입고/이동 추적) 불가
- 직원별 성과 분석 불가

### 한도
- 지점: 2개
- 직원: 10명
- 월 매출: 300건
- 재고 품목: 200개
- 데이터 보관: 1년

---

## 프로 플랜 (PRO)
**요약**: 입고부터 세금 처리까지 가능한 타이어 전문 매장용

### 활성 메뉴 (스타터의 모든 기능 포함)
- **대시보드**: 지점 통합 현황 (최대 5개) 및 성과 지표 분석
- **판매 (POS)**: 포인트 적립 및 복합 결제 기능
- **예약 관리**: 고급 예약 관리 기능
- **판매 내역**: 무제한 저장 및 CSV 내보내기
- **고객 관리**: 차량 번호, 방문 이력, 주행 거리 등 상세 관리
- **재고 관리**: 품목 제한 없음, 재고 위치 및 소진 추적
- **세금계산서**: 판매 내역 연동 즉시 발행 기능
- **입고 관리**: 매입처 관리, 타이어 생산주차(DOT) 기록, 반품 관리
- **재무·결산**: 손익계산서, 현금흐름표, 고정지출 관리 전체 활성화
- **설정**: API 연동 및 데이터 백업 기능 제한

### 비활성 메뉴 (업그레이드 필요)
- **근무표** → ENTERPRISE만

### 한도
- 지점: 5개
- 직원: 무제한
- 월 매출: 무제한
- 재고 품목: 무제한
- 데이터 보관: 무제한

---

## 엔터프라이즈 플랜 (ENTERPRISE)
**요약**: 다지점 관리와 직원 근태 관리가 필수인 대형 센터용

### 활성 메뉴 (모든 메뉴 전체 개방)
- **대시보드**: 무제한 지점 통합 데이터 및 고급 분석 리포트
- **판매 (POS)**: 모든 결제 및 거래 기능 지원
- **예약 관리**: 고급 예약 관리 및 분석
- **판매 내역**: 전체 이력 조회 및 고급 분석
- **고객 관리**: 전체 고객 정보 및 이력 관리
- **재고 관리**: 전체 재고 기능 활성화
- **세금계산서**: 전체 세금 처리 기능
- **입고 관리**: 전체 입고 기능
- **재무·결산**: 전체 재무 기능 활성화
- **근무표**: 직원별 교대 스케줄, 휴가 관리, 근태 이력 관리
- **설정**: API 연동, 다중 사용자 권한 관리, 데이터 백업/복원

### 특화 서비스
- 전담 고객지원 (메뉴 내 노출)
- 매장별 맞춤형 커스터마이징 기능 지원

### 한도
- 지점: 무제한
- 직원: 무제한
- 월 매출: 무제한
- 재고 품목: 무제한
- 데이터 보관: 무제한

---

## 구현 파일

- `src/utils/menuAccess.ts`: 플랜별 메뉴 접근 권한 정의 및 유틸리티
- `src/utils/navigation.ts`: 동적 네비게이션 아이템 생성
- `src/components/UpgradePrompt.tsx`: 업그레이드 유도 컴포넌트
- `src/hooks/useMenuAccess.ts`: 메뉴 접근 확인 커스텀 훅
- `src/types.ts`: PlanMenuAccess 타입 정의

## 사용 방법

### 1. 메뉴 접근성 확인
```typescript
import { useMenuAccess } from '../hooks/useMenuAccess';

const YourComponent = () => {
  const menuAccess = useMenuAccess('PRO');
  
  if (!menuAccess.can('taxInvoice')) {
    return <UpgradePrompt {...} />;
  }
};
```

### 2. 네비게이션 아이템 생성
```typescript
import { getNavItemsByPlan } from '../utils/navigation';

const items = getNavItemsByPlan('STARTER', isAdmin);
```

### 3. 업그레이드 메시지 생성
```typescript
import { getUpgradeMessage } from '../utils/menuAccess';

const message = getUpgradeMessage('FREE', 'taxInvoice');
// → "PRO 플랜 이상에서 이용 가능합니다."
```
